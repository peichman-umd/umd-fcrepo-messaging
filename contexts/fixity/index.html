
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://umd-lib.github.io/umd-fcrepo-messaging/contexts/fixity/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>Fixity Checking - UMD Libraries Fedora Messaging Infrastructure</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="None" data-md-color-accent="None">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#camel-contexts-fixity-checking" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="UMD Libraries Fedora Messaging Infrastructure" class="md-header__button md-logo" aria-label="UMD Libraries Fedora Messaging Infrastructure" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            UMD Libraries Fedora Messaging Infrastructure
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Fixity Checking
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="UMD Libraries Fedora Messaging Infrastructure" class="md-nav__button md-logo" aria-label="UMD Libraries Fedora Messaging Infrastructure" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    UMD Libraries Fedora Messaging Infrastructure
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Camel Contexts
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Camel Contexts" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Camel Contexts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../routing/" class="md-nav__link">
        Routing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../auditing/" class="md-nav__link">
        Auditing
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Fixity Checking
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Fixity Checking
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#retrieving-and-checking-the-resource" class="md-nav__link">
    Retrieving and checking the resource
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#when-the-fixity-check-succeeds" class="md-nav__link">
    When the fixity check succeeds
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#when-the-fixity-check-fails" class="md-nav__link">
    When the fixity check fails
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#routes" class="md-nav__link">
    Routes
  </a>
  
    <nav class="md-nav" aria-label="Routes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixitychecker" class="md-nav__link">
    FixityChecker
  </a>
  
    <nav class="md-nav" aria-label="FixityChecker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#input-message-headers" class="md-nav__link">
    Input message headers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-variables" class="md-nav__link">
    Environment variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#java-beans" class="md-nav__link">
    Java beans
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#output-message-format" class="md-nav__link">
    Output message format
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixitysuccessdistribution" class="md-nav__link">
    FixitySuccessDistribution
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixityfailuredistribution" class="md-nav__link">
    FixityFailureDistribution
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixityaudit" class="md-nav__link">
    FixityAudit
  </a>
  
    <nav class="md-nav" aria-label="FixityAudit">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#input-message-format" class="md-nav__link">
    Input message format
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-variables_1" class="md-nav__link">
    Environment variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#java-beans_1" class="md-nav__link">
    Java beans
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#output-message-format_1" class="md-nav__link">
    Output message format
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixitylog" class="md-nav__link">
    FixityLog
  </a>
  
    <nav class="md-nav" aria-label="FixityLog">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#input-message-format_1" class="md-nav__link">
    Input message format
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#java-beans_2" class="md-nav__link">
    Java beans
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#output-message-format_2" class="md-nav__link">
    Output message format
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixitynotify" class="md-nav__link">
    FixityNotify
  </a>
  
    <nav class="md-nav" aria-label="FixityNotify">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#input-message-headers_1" class="md-nav__link">
    Input message headers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-variables_2" class="md-nav__link">
    Environment variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#java-beans_3" class="md-nav__link">
    Java beans
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_5" type="checkbox" id="__nav_2_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_5">
          Indexing
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Indexing" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_5">
          <span class="md-nav__icon md-icon"></span>
          Indexing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../indexing/" class="md-nav__link">
        Indexing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../indexing/solr/" class="md-nav__link">
        Solr Indexing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../indexing/triplestore/" class="md-nav__link">
        Triplestore Indexing
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../headers/" class="md-nav__link">
        Message Headers
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../config/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/umd-lib/umd-fcrepo-messaging" class="md-nav__link">
        GitHub
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#retrieving-and-checking-the-resource" class="md-nav__link">
    Retrieving and checking the resource
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#when-the-fixity-check-succeeds" class="md-nav__link">
    When the fixity check succeeds
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#when-the-fixity-check-fails" class="md-nav__link">
    When the fixity check fails
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#routes" class="md-nav__link">
    Routes
  </a>
  
    <nav class="md-nav" aria-label="Routes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixitychecker" class="md-nav__link">
    FixityChecker
  </a>
  
    <nav class="md-nav" aria-label="FixityChecker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#input-message-headers" class="md-nav__link">
    Input message headers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-variables" class="md-nav__link">
    Environment variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#java-beans" class="md-nav__link">
    Java beans
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#output-message-format" class="md-nav__link">
    Output message format
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixitysuccessdistribution" class="md-nav__link">
    FixitySuccessDistribution
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixityfailuredistribution" class="md-nav__link">
    FixityFailureDistribution
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixityaudit" class="md-nav__link">
    FixityAudit
  </a>
  
    <nav class="md-nav" aria-label="FixityAudit">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#input-message-format" class="md-nav__link">
    Input message format
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-variables_1" class="md-nav__link">
    Environment variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#java-beans_1" class="md-nav__link">
    Java beans
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#output-message-format_1" class="md-nav__link">
    Output message format
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixitylog" class="md-nav__link">
    FixityLog
  </a>
  
    <nav class="md-nav" aria-label="FixityLog">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#input-message-format_1" class="md-nav__link">
    Input message format
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#java-beans_2" class="md-nav__link">
    Java beans
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#output-message-format_2" class="md-nav__link">
    Output message format
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixitynotify" class="md-nav__link">
    FixityNotify
  </a>
  
    <nav class="md-nav" aria-label="FixityNotify">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#input-message-headers_1" class="md-nav__link">
    Input message headers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-variables_2" class="md-nav__link">
    Environment variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#java-beans_3" class="md-nav__link">
    Java beans
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="camel-contexts-fixity-checking">Camel Contexts: Fixity Checking</h1>
<h2 id="retrieving-and-checking-the-resource">Retrieving and checking the resource</h2>
<p><svg xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" preserveAspectRatio="none" style="background:#FFFFFF" version="1.1" viewBox="0 0 876 346" width="100%" zoomAndPan="magnify" class="uml" alt="uml diagram" title=""><defs /><g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="32" x2="32" y1="69.9766" y2="279.8398" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="191.5" x2="191.5" y1="69.9766" y2="279.8398" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="312.5" x2="312.5" y1="69.9766" y2="279.8398" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="445.5" x2="445.5" y1="69.9766" y2="279.8398" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="605.5" x2="605.5" y1="69.9766" y2="279.8398" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="789.5" x2="789.5" y1="69.9766" y2="279.8398" /><path d="M10,43.4883 L54,43.4883 C59,43.4883 59,56.7324 59,56.7324 C59,56.7324 59,69.9766 54,69.9766 L10,69.9766 C5,69.9766 5,56.7324 5,56.7324 C5,56.7324 5,43.4883 10,43.4883 " fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;" /><path d="M54,43.4883 C49,43.4883 49,56.7324 49,56.7324 C49,69.9766 54,69.9766 54,69.9766 " fill="none" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="10" y="62.0234">fixity</text><path d="M10,278.8398 L54,278.8398 C59,278.8398 59,292.084 59,292.084 C59,292.084 59,305.3281 54,305.3281 L10,305.3281 C5,305.3281 5,292.084 5,292.084 C5,292.084 5,278.8398 10,278.8398 " fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;" /><path d="M54,278.8398 C49,278.8398 49,292.084 49,292.084 C49,305.3281 54,305.3281 54,305.3281 " fill="none" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="10" y="297.375">fixity</text><a href="#fixitychecker" target="_top" title="#fixitychecker" xlink:actuate="onRequest" xlink:href="#fixitychecker" xlink:show="new" xlink:title="#fixitychecker" xlink:type="simple"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="142.5" y="67.0234">FixityChecker</text><ellipse cx="192" cy="37.4883" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;" /><polygon fill="#181818" points="188,25.4883,194,20.4883,192,25.4883,194,30.4883,188,25.4883" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="142.5" y="292.375">FixityChecker</text><ellipse cx="192" cy="311.3281" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;" /><polygon fill="#181818" points="188,299.3281,194,294.3281,192,299.3281,194,304.3281,188,299.3281" style="stroke:#181818;stroke-width:1.0;" /></a><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="117" x="251.5" y="50.5352">&#171;HTTP Resource&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="293.5" y="67.0234">{URI}</text><path d="M292.5,9 L292.5,33 M292.5,21 L309.5,21 " fill="none" style="stroke:#181818;stroke-width:0.5;" /><ellipse cx="321.5" cy="21" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="117" x="251.5" y="292.375">&#171;HTTP Resource&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="293.5" y="308.8633">{URI}</text><path d="M292.5,315.8164 L292.5,339.8164 M292.5,327.8164 L309.5,327.8164 " fill="none" style="stroke:#181818;stroke-width:0.5;" /><ellipse cx="321.5" cy="327.8164" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="117" x="384.5" y="50.5352">&#171;HTTP Resource&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="395" y="67.0234">{URI}/fcr:fixity</text><path d="M425.5,9 L425.5,33 M425.5,21 L442.5,21 " fill="none" style="stroke:#181818;stroke-width:0.5;" /><ellipse cx="454.5" cy="21" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="117" x="384.5" y="292.375">&#171;HTTP Resource&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="395" y="308.8633">{URI}/fcr:fixity</text><path d="M425.5,315.8164 L425.5,339.8164 M425.5,327.8164 L442.5,327.8164 " fill="none" style="stroke:#181818;stroke-width:0.5;" /><ellipse cx="454.5" cy="327.8164" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;" /><a href="#fixitysuccessdistribution" target="_top" title="#fixitysuccessdistribution" xlink:actuate="onRequest" xlink:href="#fixitysuccessdistribution" xlink:show="new" xlink:title="#fixitysuccessdistribution" xlink:type="simple"><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="54" x="576" y="50.5352">&#171;Route&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171" x="517.5" y="67.0234">FixitySuccessDistribution</text><ellipse cx="606" cy="21" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;" /><polygon fill="#181818" points="602,9,608,4,606,9,608,14,602,9" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="54" x="576" y="292.375">&#171;Route&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171" x="517.5" y="308.8633">FixitySuccessDistribution</text><ellipse cx="606" cy="327.8164" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;" /><polygon fill="#181818" points="602,315.8164,608,310.8164,606,315.8164,608,320.8164,602,315.8164" style="stroke:#181818;stroke-width:1.0;" /></a><a href="#fixityfailuredistribution" target="_top" title="#fixityfailuredistribution" xlink:actuate="onRequest" xlink:href="#fixityfailuredistribution" xlink:show="new" xlink:title="#fixityfailuredistribution" xlink:type="simple"><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="54" x="760" y="50.5352">&#171;Route&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165" x="704.5" y="67.0234">FixityFailureDistribution</text><ellipse cx="790" cy="21" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;" /><polygon fill="#181818" points="786,9,792,4,790,9,792,14,786,9" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="54" x="760" y="292.375">&#171;Route&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165" x="704.5" y="308.8633">FixityFailureDistribution</text><ellipse cx="790" cy="327.8164" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;" /><polygon fill="#181818" points="786,315.8164,792,310.8164,790,315.8164,792,320.8164,786,315.8164" style="stroke:#181818;stroke-width:1.0;" /></a><line style="stroke:#181818;stroke-width:1.0;" x1="190" x2="180" y1="101.2871" y2="97.2871" /><line style="stroke:#181818;stroke-width:1.0;" x1="32" x2="191" y1="101.2871" y2="101.2871" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="39" y="96.5449">activemq:queue:fixity</text><polygon fill="#181818" points="301,126.5977,311,130.5977,301,134.5977,305,130.5977" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="192" x2="307" y1="130.5977" y2="130.5977" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="199" y="125.8555">HEAD</text><polygon fill="#181818" points="203,140.5977,193,144.5977,203,148.5977,199,144.5977" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="197" x2="312" y1="144.5977" y2="144.5977" /><polygon fill="#181818" points="434,169.9082,444,173.9082,434,177.9082,438,173.9082" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="192" x2="440" y1="173.9082" y2="173.9082" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="199" y="169.166">[if resource is a binary] GET</text><polygon fill="#181818" points="203,199.2188,193,203.2188,203,207.2188,199,203.2188" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="197" x2="445" y1="203.2188" y2="203.2188" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="209" y="198.4766">RDF/XML</text><line style="stroke:#181818;stroke-width:1.0;" x1="604" x2="594" y1="232.5293" y2="228.5293" /><line style="stroke:#181818;stroke-width:1.0;" x1="192" x2="605" y1="232.5293" y2="232.5293" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="199" y="227.7871">[if success] direct:fixity.success</text><line style="stroke:#181818;stroke-width:1.0;" x1="788" x2="778" y1="261.8398" y2="257.8398" /><line style="stroke:#181818;stroke-width:1.0;" x1="192" x2="789" y1="261.8398" y2="261.8398" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="199" y="257.0977">[if failure] direct:fixity.failure</text></g></svg></p>
<h2 id="when-the-fixity-check-succeeds">When the fixity check succeeds</h2>
<p><svg xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" preserveAspectRatio="none" style="background:#FFFFFF" version="1.1" viewBox="0 0 834 361" width="100%" zoomAndPan="magnify" class="uml" alt="uml diagram" title=""><defs /><g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="93" x2="93" y1="69.9766" y2="295.0391" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="232" x2="232" y1="69.9766" y2="295.0391" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="316" x2="316" y1="69.9766" y2="295.0391" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="460" x2="460" y1="69.9766" y2="295.0391" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="681" x2="681" y1="69.9766" y2="295.0391" /><a href="#fixitysuccessdistribution" target="_top" title="#fixitysuccessdistribution" xlink:actuate="onRequest" xlink:href="#fixitysuccessdistribution" xlink:show="new" xlink:title="#fixitysuccessdistribution" xlink:type="simple"><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="54" x="63.5" y="50.5352">&#171;Route&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171" x="5" y="67.0234">FixitySuccessDistribution</text><ellipse cx="93.5" cy="21" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;" /><polygon fill="#181818" points="89.5,9,95.5,4,93.5,9,95.5,14,89.5,9" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="54" x="63.5" y="307.5742">&#171;Route&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171" x="5" y="324.0625">FixitySuccessDistribution</text><ellipse cx="93.5" cy="343.0156" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;" /><polygon fill="#181818" points="89.5,331.0156,95.5,326.0156,93.5,331.0156,95.5,336.0156,89.5,331.0156" style="stroke:#181818;stroke-width:1.0;" /></a><a href="#fixityaudit" target="_top" title="#fixityaudit" xlink:actuate="onRequest" xlink:href="#fixityaudit" xlink:show="new" xlink:title="#fixityaudit" xlink:type="simple"><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="54" x="202" y="50.5352">&#171;Route&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="192" y="67.0234">FixityAudit</text><ellipse cx="232" cy="21" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;" /><polygon fill="#181818" points="228,9,234,4,232,9,234,14,228,9" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="54" x="202" y="307.5742">&#171;Route&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="192" y="324.0625">FixityAudit</text><ellipse cx="232" cy="343.0156" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;" /><polygon fill="#181818" points="228,331.0156,234,326.0156,232,331.0156,234,336.0156,228,331.0156" style="stroke:#181818;stroke-width:1.0;" /></a><a href="#fixitylog" target="_top" title="#fixitylog" xlink:actuate="onRequest" xlink:href="#fixitylog" xlink:show="new" xlink:title="#fixitylog" xlink:type="simple"><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="54" x="286" y="50.5352">&#171;Route&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="282" y="67.0234">FixityLog</text><ellipse cx="316" cy="21" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;" /><polygon fill="#181818" points="312,9,318,4,316,9,318,14,312,9" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="54" x="286" y="307.5742">&#171;Route&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="282" y="324.0625">FixityLog</text><ellipse cx="316" cy="343.0156" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;" /><polygon fill="#181818" points="312,331.0156,318,326.0156,316,331.0156,318,336.0156,312,331.0156" style="stroke:#181818;stroke-width:1.0;" /></a><path d="M400,43.4883 L520,43.4883 C525,43.4883 525,56.7324 525,56.7324 C525,56.7324 525,69.9766 520,69.9766 L400,69.9766 C395,69.9766 395,56.7324 395,56.7324 C395,56.7324 395,43.4883 400,43.4883 " fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;" /><path d="M520,43.4883 C515,43.4883 515,56.7324 515,56.7324 C515,69.9766 520,69.9766 520,69.9766 " fill="none" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="400" y="62.0234">audit.triplestore</text><path d="M400,294.0391 L520,294.0391 C525,294.0391 525,307.2832 525,307.2832 C525,307.2832 525,320.5273 520,320.5273 L400,320.5273 C395,320.5273 395,307.2832 395,307.2832 C395,307.2832 395,294.0391 400,294.0391 " fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;" /><path d="M520,294.0391 C515,294.0391 515,307.2832 515,307.2832 C515,320.5273 520,320.5273 520,320.5273 " fill="none" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="400" y="312.5742">audit.triplestore</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="293" x="535" y="22" /><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="69" x="647" y="42.5352">&#171;CSV File&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="279" x="542" y="59.0234">/var/log/fixity/{YYYY-MM-DD}-fixity.log</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="293" x="535" y="294.0391" /><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="69" x="647" y="314.5742">&#171;CSV File&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="279" x="542" y="331.0625">/var/log/fixity/{YYYY-MM-DD}-fixity.log</text><line style="stroke:#181818;stroke-width:1.0;" x1="230" x2="220" y1="101.2871" y2="97.2871" /><line style="stroke:#181818;stroke-width:1.0;" x1="93.5" x2="231" y1="101.2871" y2="101.2871" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="100.5" y="96.5449">direct:fixity.audit</text><rect fill="#FFFFFF" height="33" style="stroke:#000000;stroke-width:0.5;" width="152" x="156" y="114.2871" /><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="66" x="199" y="128.9219">&#171;Processor&#187;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="144" x="160" y="141.877">fixityAuditSparqlProcessor</text><line style="stroke:#181818;stroke-width:1.0;" x1="458" x2="448" y1="174.5078" y2="170.5078" /><line style="stroke:#181818;stroke-width:1.0;" x1="232" x2="459" y1="174.5078" y2="174.5078" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204" x="239" y="169.7656">activemq:queue:audit.triplestore</text><line style="stroke:#181818;stroke-width:1.0;" x1="314" x2="304" y1="203.8184" y2="199.8184" /><line style="stroke:#181818;stroke-width:1.0;" x1="93.5" x2="315" y1="203.8184" y2="203.8184" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="100.5" y="199.0762">direct:fixity.log</text><rect fill="#FFFFFF" height="33" style="stroke:#000000;stroke-width:0.5;" width="143" x="244" y="216.8184" /><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="66" x="282.5" y="231.4531">&#171;Processor&#187;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="135" x="248" y="244.4082">fixityLogSparqlProcessor</text><polygon fill="#181818" points="669.5,273.0391,679.5,277.0391,669.5,281.0391,673.5,277.0391" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="316" x2="675.5" y1="277.0391" y2="277.0391" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="245" x="323" y="272.2969">file:///var/log/fixity?fileExist=Append</text></g></svg></p>
<h2 id="when-the-fixity-check-fails">When the fixity check fails</h2>
<p><svg xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" preserveAspectRatio="none" style="background:#FFFFFF" version="1.1" viewBox="0 0 1099 419" width="100%" zoomAndPan="magnify" class="uml" alt="uml diagram" title=""><defs /><g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="90" x2="90" y1="69.9766" y2="353.6602" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="226" x2="226" y1="69.9766" y2="353.6602" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="310" x2="310" y1="69.9766" y2="353.6602" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="395" x2="395" y1="69.9766" y2="353.6602" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="512" x2="512" y1="69.9766" y2="353.6602" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="733" x2="733" y1="69.9766" y2="353.6602" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="991" x2="991" y1="69.9766" y2="353.6602" /><a href="#fixityfailuredistribution" target="_top" title="#fixityfailuredistribution" xlink:actuate="onRequest" xlink:href="#fixityfailuredistribution" xlink:show="new" xlink:title="#fixityfailuredistribution" xlink:type="simple"><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="54" x="60.5" y="50.5352">&#171;Route&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165" x="5" y="67.0234">FixityFailureDistribution</text><ellipse cx="90.5" cy="21" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;" /><polygon fill="#181818" points="86.5,9,92.5,4,90.5,9,92.5,14,86.5,9" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="54" x="60.5" y="366.1953">&#171;Route&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165" x="5" y="382.6836">FixityFailureDistribution</text><ellipse cx="90.5" cy="401.6367" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;" /><polygon fill="#181818" points="86.5,389.6367,92.5,384.6367,90.5,389.6367,92.5,394.6367,86.5,389.6367" style="stroke:#181818;stroke-width:1.0;" /></a><a href="#fixityaudit" target="_top" title="#fixityaudit" xlink:actuate="onRequest" xlink:href="#fixityaudit" xlink:show="new" xlink:title="#fixityaudit" xlink:type="simple"><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="54" x="196" y="50.5352">&#171;Route&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="186" y="67.0234">FixityAudit</text><ellipse cx="226" cy="21" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;" /><polygon fill="#181818" points="222,9,228,4,226,9,228,14,222,9" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="54" x="196" y="366.1953">&#171;Route&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="186" y="382.6836">FixityAudit</text><ellipse cx="226" cy="401.6367" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;" /><polygon fill="#181818" points="222,389.6367,228,384.6367,226,389.6367,228,394.6367,222,389.6367" style="stroke:#181818;stroke-width:1.0;" /></a><a href="#fixitylog" target="_top" title="#fixitylog" xlink:actuate="onRequest" xlink:href="#fixitylog" xlink:show="new" xlink:title="#fixitylog" xlink:type="simple"><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="54" x="280" y="50.5352">&#171;Route&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="276" y="67.0234">FixityLog</text><ellipse cx="310" cy="21" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;" /><polygon fill="#181818" points="306,9,312,4,310,9,312,14,306,9" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="54" x="280" y="366.1953">&#171;Route&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="276" y="382.6836">FixityLog</text><ellipse cx="310" cy="401.6367" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;" /><polygon fill="#181818" points="306,389.6367,312,384.6367,310,389.6367,312,394.6367,306,389.6367" style="stroke:#181818;stroke-width:1.0;" /></a><a href="#fixitynotify" target="_top" title="#fixitynotify" xlink:actuate="onRequest" xlink:href="#fixitynotify" xlink:show="new" xlink:title="#fixitynotify" xlink:type="simple"><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="54" x="365.5" y="50.5352">&#171;Route&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="354" y="67.0234">FixityNotify</text><ellipse cx="395.5" cy="21" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;" /><polygon fill="#181818" points="391.5,9,397.5,4,395.5,9,397.5,14,391.5,9" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="54" x="365.5" y="366.1953">&#171;Route&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="354" y="382.6836">FixityNotify</text><ellipse cx="395.5" cy="401.6367" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;" /><polygon fill="#181818" points="391.5,389.6367,397.5,384.6367,395.5,389.6367,397.5,394.6367,391.5,389.6367" style="stroke:#181818;stroke-width:1.0;" /></a><path d="M452,43.4883 L572,43.4883 C577,43.4883 577,56.7324 577,56.7324 C577,56.7324 577,69.9766 572,69.9766 L452,69.9766 C447,69.9766 447,56.7324 447,56.7324 C447,56.7324 447,43.4883 452,43.4883 " fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;" /><path d="M572,43.4883 C567,43.4883 567,56.7324 567,56.7324 C567,69.9766 572,69.9766 572,69.9766 " fill="none" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="452" y="62.0234">audit.triplestore</text><path d="M452,352.6602 L572,352.6602 C577,352.6602 577,365.9043 577,365.9043 C577,365.9043 577,379.1484 572,379.1484 L452,379.1484 C447,379.1484 447,365.9043 447,365.9043 C447,365.9043 447,352.6602 452,352.6602 " fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;" /><path d="M572,352.6602 C567,352.6602 567,365.9043 567,365.9043 C567,379.1484 572,379.1484 572,379.1484 " fill="none" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="452" y="371.1953">audit.triplestore</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="293" x="587" y="22" /><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="69" x="699" y="42.5352">&#171;CSV File&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="279" x="594" y="59.0234">/var/log/fixity/{YYYY-MM-DD}-fixity.log</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="293" x="587" y="352.6602" /><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="69" x="699" y="373.1953">&#171;CSV File&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="279" x="594" y="389.6836">/var/log/fixity/{YYYY-MM-DD}-fixity.log</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="203" x="890" y="22" /><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="111" x="936" y="42.5352">&#171;Email Address&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189" x="897" y="59.0234">lib-fcrepo-notify@umd.edu</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="203" x="890" y="352.6602" /><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="111" x="936" y="373.1953">&#171;Email Address&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189" x="897" y="389.6836">lib-fcrepo-notify@umd.edu</text><line style="stroke:#181818;stroke-width:1.0;" x1="224" x2="214" y1="101.2871" y2="97.2871" /><line style="stroke:#181818;stroke-width:1.0;" x1="90.5" x2="225" y1="101.2871" y2="101.2871" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="97.5" y="96.5449">direct:fixity.audit</text><rect fill="#FFFFFF" height="33" style="stroke:#000000;stroke-width:0.5;" width="152" x="150" y="114.2871" /><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="66" x="193" y="128.9219">&#171;Processor&#187;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="144" x="154" y="141.877">fixityAuditSparqlProcessor</text><line style="stroke:#181818;stroke-width:1.0;" x1="510" x2="500" y1="174.5078" y2="170.5078" /><line style="stroke:#181818;stroke-width:1.0;" x1="226" x2="511" y1="174.5078" y2="174.5078" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204" x="233" y="169.7656">activemq:queue:audit.triplestore</text><line style="stroke:#181818;stroke-width:1.0;" x1="308" x2="298" y1="203.8184" y2="199.8184" /><line style="stroke:#181818;stroke-width:1.0;" x1="90.5" x2="309" y1="203.8184" y2="203.8184" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="97.5" y="199.0762">direct:fixity.log</text><rect fill="#FFFFFF" height="33" style="stroke:#000000;stroke-width:0.5;" width="143" x="238" y="216.8184" /><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="66" x="276.5" y="231.4531">&#171;Processor&#187;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="135" x="242" y="244.4082">fixityLogSparqlProcessor</text><polygon fill="#181818" points="721.5,273.0391,731.5,277.0391,721.5,281.0391,725.5,277.0391" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="310" x2="727.5" y1="277.0391" y2="277.0391" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="245" x="317" y="272.2969">file:///var/log/fixity?fileExist=Append</text><line style="stroke:#181818;stroke-width:1.0;" x1="393.5" x2="383.5" y1="306.3496" y2="302.3496" /><line style="stroke:#181818;stroke-width:1.0;" x1="90.5" x2="394.5" y1="306.3496" y2="306.3496" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="97.5" y="301.6074">direct:fixity.notify</text><polygon fill="#181818" points="979.5,331.6602,989.5,335.6602,979.5,339.6602,983.5,335.6602" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="395.5" x2="985.5" y1="335.6602" y2="335.6602" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="402.5" y="330.918">smtp://{SMTP_SERVER}</text></g></svg></p>
<h2 id="routes">Routes</h2>
<h3 id="fixitychecker">FixityChecker</h3>
<p><code>edu.umd.lib.camel.routes.FixityChecker</code></p>
<p>Sends a request for a fixity check of a resource and returns the RDF/XML
representation of that fixity check.</p>
<h4 id="input-message-headers">Input message headers</h4>
<ul>
<li><a href="../../headers/#camelfcrepopath">CamelFcrepoPath</a></li>
<li><a href="../../headers/#camelfcrepouri">CamelFcrepoUri</a></li>
</ul>
<h4 id="environment-variables">Environment variables</h4>
<ul>
<li><a href="../../config/#repo_internal_url">REPO_INTERNAL_URL</a></li>
</ul>
<h4 id="java-beans">Java beans</h4>
<ul>
<li><a href="../../config/#addbearerauthorization">addBearerAuthorization</a></li>
<li><a href="../../config/#repoexternalurl">repoExternalURL</a></li>
</ul>
<h4 id="output-message-format">Output message format</h4>
<ul>
<li><code>application/rdf+xml</code></li>
</ul>
<h3 id="fixitysuccessdistribution">FixitySuccessDistribution</h3>
<p><code>edu.umd.lib.camel.routes.FixitySuccessDistribution</code></p>
<p>Distributes copies of the message to the <a href="#fixityaudit">FixityAudit</a> and
<a href="#fixitylog">FixityLog</a> routes.</p>
<h3 id="fixityfailuredistribution">FixityFailureDistribution</h3>
<p><code>edu.umd.lib.camel.routes.FixityFailureDistribution</code></p>
<p>Distributes copies of the message to the <a href="#fixityaudit">FixityAudit</a>,
<a href="#fixitylog">FixityLog</a>, and <a href="#fixitynotify">FixityNotify</a> routes.</p>
<h3 id="fixityaudit">FixityAudit</h3>
<p><code>edu.umd.lib.camel.routes.FixityAudit</code></p>
<p>Constructs an audit record to send to the <a href="../auditing/#audittriplestore">AuditTriplestore</a>
route in the <a href="../auditing/">Audit</a> context.</p>
<h4 id="input-message-format">Input message format</h4>
<ul>
<li><code>application/rdf+xml</code></li>
</ul>
<h4 id="environment-variables_1">Environment variables</h4>
<ul>
<li><a href="../../config/#audit_event_base_uri">AUDIT_EVENT_BASE_URI</a></li>
</ul>
<h4 id="java-beans_1">Java beans</h4>
<ul>
<li><a href="../../config/#fi">fixityAuditSparqlProcessor</a></li>
</ul>
<h4 id="output-message-format_1">Output message format</h4>
<ul>
<li><code>application/n-triples</code></li>
</ul>
<h3 id="fixitylog">FixityLog</h3>
<p><code>edu.umd.lib.camel.routes.FixityLog</code></p>
<p>Constructs a one-line log message and writes it to a log file. The log message
is in CSV format, where the columns are:</p>
<ul>
<li>time</li>
<li>uri</li>
<li>outcomes</li>
<li>size</li>
<li>messageDigest</li>
</ul>
<p>Note however that the log file does not contain a header line with these column
names.</p>
<h4 id="input-message-format_1">Input message format</h4>
<ul>
<li><code>application/rdf+xml</code></li>
</ul>
<h4 id="java-beans_2">Java beans</h4>
<ul>
<li><a href="../../config/#fi">fixityLogSparqlProcessor</a></li>
</ul>
<h4 id="output-message-format_2">Output message format</h4>
<ul>
<li><code>text/csv</code></li>
</ul>
<h3 id="fixitynotify">FixityNotify</h3>
<p><code>edu.umd.lib.camel.routes.FixityNotify</code></p>
<p>Send an email message to <code>lib-fcrepo-notify@umd.edu</code> reporting a fixity check
failure. The body of the email is the RDF/XML-formatted fixity check result
returned from fcrepo.</p>
<h4 id="input-message-headers_1">Input message headers</h4>
<ul>
<li><a href="../../headers/#camelfcrepouri">CamelFcrepoUri</a></li>
</ul>
<h4 id="environment-variables_2">Environment variables</h4>
<ul>
<li><a href="../../config/#smtp_server">SMTP_SERVER</a></li>
</ul>
<h4 id="java-beans_3">Java beans</h4>
<ul>
<li><a href="../../config/#repoexternalurl">repoExternalURL</a></li>
</ul>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../auditing/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Auditing" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Auditing
            </div>
          </div>
        </a>
      
      
        
        <a href="../indexing/" class="md-footer__link md-footer__link--next" aria-label="Next: Indexing" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Indexing
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
    
    
  </body>
</html>